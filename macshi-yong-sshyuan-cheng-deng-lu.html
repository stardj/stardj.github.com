<!DOCTYPE html>
<html>
<head>
    <title> Stardj is coding </title>
    <link rel="shortcut icon" href="/images/" />

    <script src="/theme/js/jquery-3.1.1.min.js"></script>

    <!-- extra css -->

    <!-- uikit basic -->
    <link rel="stylesheet" href="/theme/css/uikit.min.css"/>
    <script src="/theme/js/uikit.min.js"></script>

    <!-- uk components -->
    <link rel="stylesheet" href="/theme/css/components/sticky.css"/>
    <script src="/theme/js/components/sticky.js"></script>
    <link rel="stylesheet" href="/theme/css/components/search.css"/>
    <script src="/theme/js/components/search.js"></script>

    <!-- self defined  -->
    <link rel="stylesheet" href="/theme/css/highlight.css"/>
    <link rel="stylesheet" href="/theme/css/main.css"/>

</head>
<body>

    <main class="jojo-theme">
        <div class="uk-container uk-container-center">

            <!-- nav -->


            <div class="uk-grid uk-margin-large-top">
                <div class="uk-width-medium-1-10">



                </div>
                <div class="uk-width-medium-7-10">
                    <div class="uk-margin-top">
                        <!-- content -->
    <article class="uk-article">

        <h1 class="uk-article-title">
           <a href="/macshi-yong-sshyuan-cheng-deng-lu.html" rel="bookmark"> MAC使用SSH远程登录 </a>
        </h1>

            <div class="tags">
                <i class="uk-icon-tags"></i>
                    <div class="uk-badge uk-badge-notification">
                        <a href="/tag/bei-wang-lu.html">备忘录</a>
                    </div>
            </div>

        <!-- meta -->
        <p class="uk-article-meta">
            Sun 20 December 2015
        </p>

        <hr class="uk-article-divider">

        <h3>MAC使用SSH远程登录</h3>
<ul>
<li>打开ssh</li>
</ul>
<p>Mac Terminal是自带SSH的，可以用whereis来看看</p>
<blockquote>
<p>$ whereis ssh</p>
</blockquote>
<p>但是在现有进程中是找不到ssh对应的进程的：</p>
<blockquote>
<p>$ ps aux | grep ssh</p>
<p>MacBook-Pro:etc stardj$ ps aux | grep ssh</p>
<p>stardj            563   0.0  0.0  2432772    676 s000  S+   10:16上午   0:00.00 grep ssh</p>
</blockquote>
<p>直接用ssh命令链接本地主机或者远程登录主机时会遇到下列错误提示：</p>
<blockquote>
<p>ssh: connect to host localhost port 22: Connection refused</p>
</blockquote>
<p>google了一下，原因在于系统中没有打开远程登录，参见<a href="http://stackoverflow.com/questions/6313929/how-do-i-open-port-22-in-os-x-10-6-7">How do I open port 22 in OS X 10.6.7</a> </p>
<p>解决方法：</p>
<p>打开系统偏好设置—共享，选中远程登录：</p>
<p><img alt="img" src="https://raw.githubusercontent.com/stardj/MarkDownPhotos/master/F64EFDD3-5AC5-4A3D-8D29-F7E2AE531448.png"></p>
<p>输入ssh localhost来测试一下，如果提示输入密码认证就没什么问题了。</p>
<p>此时再来看一下ssh的进程：</p>
<blockquote>
<p>$ ps aux | grep ssh</p>
<p>MacBook-Pro:etc stardj$ ps aux | grep ssh</p>
<p>stardj            542   0.0  0.0  2488384   3268   ??  S    10:12上午   0:00.03 /usr/bin/ssh-agent -l</p>
<p>stardj            604   0.0  0.0  2432772    676 s000  S+   10:34上午   0:00.00 grep ssh</p>
</blockquote>
<ul>
<li>ssh和scp</li>
</ul>
<h4>ssh</h4>
<p>接下来可以通过ssh命令来连其他主机，例如：</p>
<p>ssh username@ipaddress</p>
<p>其中username为要登录的主机的用户名，ipaddress为要登录的主机的ip地址。</p>
<p>查看当前有多少个处于登录状态的用户，可以使用who命令查看。</p>
<h4>scp</h4>
<p>scp命令可以在本地主机和远程主机之间传输文件，简单地使用如下：</p>
<blockquote>
<p>$ scp filepath username@ipaddress:/directory/</p>
</blockquote>
<p>filepath为文件的绝对路径，username为远程主机的用户名，ipaddress为远程主机的ip地址，directory为需要复制的远程主机的目录。该命令可以将文件复制到远程主机的指定名录下。</p>
<p>参考资料：<a href="http://www.jb51.net/LINUXjishu/70474.html">linux中的cp和scp命令的使用方法</a> </p>
    </article>

    <!--disqus-->

                    </div>
                </div>
                <div class="uk-width-medium-2-10">

                    <!-- author info -->

                    <!-- newest articles -->


                    <!-- related links -->

                </div>
            </div>

            <!-- footer -->

        </div>
    </main>


</body>
</html>