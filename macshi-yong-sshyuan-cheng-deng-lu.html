<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    MAC使用SSH远程登录
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="/theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="/theme/css/main.css">

    <link rel="stylesheet" href="/theme/css/blog.css">
    <link rel="stylesheet" href="/theme/css/github.css">
        <script src="/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href=""><h1><i class="icon-coffee"></i> Stardj Is Coding</h1></a>
        <p id="site-desc"></p>
    </hgroup>
    <nav>
        <ul id="nav-links">
        </ul>
    </nav>
<footer id="site-info">
    <p>
        Proudly powered by <a href="http://getpelican.com/" target="pelican">Pelican</a> and <a href="http://python.org/" target="python">Python</a>. Theme by <a href="https://github.com/hdra/pelican-cait" target="github">hndr</a>.
    </p>
    <p>
        Textures by <a href="http://subtlepatterns.com/" target="subtlepatterns">Subtle Pattern</a>. Font Awesome by <a href="http://fortawesome.github.io/Font-Awesome/" target="github">Dave Grandy</a>.
    </p>
</footer></header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2015-12-20T15:35:00+01:00" pubdate>
                            日 20 十二月 2015
                        </time>
                        <a href="/macshi-yong-sshyuan-cheng-deng-lu.html" rel="bookmark"><h1>MAC使用SSH远程登录</h1></a>
                    </header>

                    <section class="post-content">
                        <h3>MAC使用SSH远程登录</h3>
<ul>
<li>打开ssh</li>
</ul>
<p>Mac Terminal是自带SSH的，可以用whereis来看看</p>
<blockquote>
<p>$ whereis ssh</p>
</blockquote>
<p>但是在现有进程中是找不到ssh对应的进程的：</p>
<blockquote>
<p>$ ps aux | grep ssh</p>
<p>MacBook-Pro:etc stardj$ ps aux | grep ssh</p>
<p>stardj            563   0.0  0.0  2432772    676 s000  S+   10:16上午   0:00.00 grep ssh</p>
</blockquote>
<p>直接用ssh命令链接本地主机或者远程登录主机时会遇到下列错误提示：</p>
<blockquote>
<p>ssh: connect to host localhost port 22: Connection refused</p>
</blockquote>
<p>google了一下，原因在于系统中没有打开远程登录，参见<a href="http://stackoverflow.com/questions/6313929/how-do-i-open-port-22-in-os-x-10-6-7">How do I open port 22 in OS X 10.6.7</a> </p>
<p>解决方法：</p>
<p>打开系统偏好设置—共享，选中远程登录：</p>
<p><img alt="img" src="https://raw.githubusercontent.com/stardj/MarkDownPhotos/master/F64EFDD3-5AC5-4A3D-8D29-F7E2AE531448.png" /></p>
<p>输入ssh localhost来测试一下，如果提示输入密码认证就没什么问题了。</p>
<p>此时再来看一下ssh的进程：</p>
<blockquote>
<p>$ ps aux | grep ssh</p>
<p>MacBook-Pro:etc stardj$ ps aux | grep ssh</p>
<p>stardj            542   0.0  0.0  2488384   3268   ??  S    10:12上午   0:00.03 /usr/bin/ssh-agent -l</p>
<p>stardj            604   0.0  0.0  2432772    676 s000  S+   10:34上午   0:00.00 grep ssh</p>
</blockquote>
<ul>
<li>ssh和scp</li>
</ul>
<h4>ssh</h4>
<p>接下来可以通过ssh命令来连其他主机，例如：</p>
<p>ssh username@ipaddress</p>
<p>其中username为要登录的主机的用户名，ipaddress为要登录的主机的ip地址。</p>
<p>查看当前有多少个处于登录状态的用户，可以使用who命令查看。</p>
<h4>scp</h4>
<p>scp命令可以在本地主机和远程主机之间传输文件，简单地使用如下：</p>
<blockquote>
<p>$ scp filepath username@ipaddress:/directory/</p>
</blockquote>
<p>filepath为文件的绝对路径，username为远程主机的用户名，ipaddress为远程主机的ip地址，directory为需要复制的远程主机的目录。该命令可以将文件复制到远程主机的指定名录下。</p>
<p>参考资料：<a href="http://www.jb51.net/LINUXjishu/70474.html">linux中的cp和scp命令的使用方法</a> </p>
                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="/category/uncategorized.html">Uncategorized</a></p>
                        <p>Tags: <a href="/tag/bei-wang-lu.html">备忘录</a>, </p>
                    </aside>
                    <hr/>
                </article>
            </li>
        </ol>
    </div>
        </div>

        <script src="/theme/js/main.js"></script>
    </body>
</html>